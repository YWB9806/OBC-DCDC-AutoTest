# ğŸš€ å¿«é€Ÿå¼€å§‹ - ç‰ˆæœ¬å‘å¸ƒç³»ç»Ÿ

## 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹æŒ‡å—

---

## ğŸ“¦ å·²åˆ›å»ºçš„æ–‡ä»¶æ¸…å•

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ version.py                              # âœ… ç‰ˆæœ¬é…ç½®
â”œâ”€â”€ build.spec                              # âœ… æ‰“åŒ…é…ç½®
â”œâ”€â”€ release.sh                              # âœ… å‘å¸ƒè„šæœ¬(Linux/macOS)
â”œâ”€â”€ release.bat                             # âœ… å‘å¸ƒè„šæœ¬(Windows)
â”œâ”€â”€ CHANGELOG.md                            # âœ… æ›´æ–°æ—¥å¿—
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ release.yml                     # âœ… GitHub Actionsé…ç½®
â”œâ”€â”€ AppCode/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ update_service.py              # âœ… æ›´æ–°æ£€æŸ¥æœåŠ¡
â”‚   â””â”€â”€ ui/
â”‚       â””â”€â”€ update_dialog.py               # âœ… æ›´æ–°å¯¹è¯æ¡†
â”œâ”€â”€ deploy/
â”‚   â”œâ”€â”€ build_all.sh                       # âœ… æœ¬åœ°æ„å»ºè„šæœ¬
â”‚   â””â”€â”€ README.md                          # âœ… éƒ¨ç½²è¯´æ˜
â””â”€â”€ documents/
    â”œâ”€â”€ å‘å¸ƒéƒ¨ç½²æŒ‡å—.md                     # âœ… å®Œæ•´æŒ‡å—
    â”œâ”€â”€ ç‰ˆæœ¬å‘å¸ƒç³»ç»Ÿè¯´æ˜.md                 # âœ… ç³»ç»Ÿè¯´æ˜
    â””â”€â”€ å¿«é€Ÿå¼€å§‹-ç‰ˆæœ¬å‘å¸ƒ.md               # âœ… æœ¬æ–‡æ¡£
```

---

## âš¡ ç¬¬ä¸€æ­¥ï¼šé…ç½®GitHubä»“åº“åœ°å€

ç¼–è¾‘ [`version.py`](../version.py:36)ï¼š

```python
UPDATE_CONFIG = {
    # âœ… å·²é…ç½®ä¸ºä½ çš„GitHubä»“åº“åœ°å€
    "github_api": "https://api.github.com/repos/YWB9806/OBC-DCDC-AutoTest/releases/latest",
}
```

---

## âš¡ ç¬¬äºŒæ­¥ï¼šé›†æˆæ›´æ–°æ£€æŸ¥åˆ°ä¸»çª—å£

ç¼–è¾‘ [`AppCode/ui/main_window.py`](../AppCode/ui/main_window.py:1)ï¼š

```python
# 1. æ·»åŠ å¯¼å…¥
from AppCode.ui.update_dialog import show_update_dialog
from PyQt5.QtCore import QTimer

# 2. åœ¨ __init__ æ–¹æ³•ä¸­æ·»åŠ 
class MainWindow(QMainWindow):
    def __init__(self):
        super().__init__()
        # ... ç°æœ‰ä»£ç  ...
        
        # å¯åŠ¨3ç§’åæ£€æŸ¥æ›´æ–°
        QTimer.singleShot(3000, lambda: show_update_dialog(self, force_check=False))

# 3. æ·»åŠ æ‰‹åŠ¨æ£€æŸ¥æ›´æ–°æ–¹æ³•
    def on_check_updates_clicked(self):
        """æ‰‹åŠ¨æ£€æŸ¥æ›´æ–°"""
        show_update_dialog(self, force_check=True)

# 4. åœ¨èœå•æ æ·»åŠ "æ£€æŸ¥æ›´æ–°"é€‰é¡¹
    def create_menu_bar(self):
        # ... ç°æœ‰ä»£ç  ...
        from PyQt5.QtWidgets import QAction
        help_menu = menubar.addMenu("å¸®åŠ©(&H)")
        
        check_update_action = QAction("æ£€æŸ¥æ›´æ–°", self)
        check_update_action.triggered.connect(self.on_check_updates_clicked)
        help_menu.addAction(check_update_action)
```

---

## âš¡ ç¬¬ä¸‰æ­¥ï¼šå‘å¸ƒç¬¬ä¸€ä¸ªç‰ˆæœ¬

### æ–¹å¼Aï¼šä½¿ç”¨è‡ªåŠ¨å‘å¸ƒï¼ˆæ¨èï¼‰

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆç¼–è¾‘ version.pyï¼‰
# __version__ = "1.0.0"

# 2. æ›´æ–° CHANGELOG.md

# 3. è¿è¡Œå‘å¸ƒè„šæœ¬
./release.sh 1.0.0        # Linux/macOS
# æˆ–
release.bat 1.0.0         # Windows

# 4. GitHub Actions ä¼šè‡ªåŠ¨æ„å»ºå¹¶å‘å¸ƒ
```

### æ–¹å¼Bï¼šæ‰‹åŠ¨å‘å¸ƒ

```bash
# 1. æœ¬åœ°æ„å»º
cd deploy
./build_all.sh

# 2. æ‰‹åŠ¨åˆ›å»ºGitHub Releaseå¹¶ä¸Šä¼ æ–‡ä»¶
```

---

## âš¡ ç¬¬å››æ­¥ï¼šæµ‹è¯•æ›´æ–°åŠŸèƒ½

1. **å‘å¸ƒæ–°ç‰ˆæœ¬** (å¦‚ v1.0.1)
2. **è¿è¡Œæ—§ç‰ˆæœ¬åº”ç”¨**
3. **åº”è¯¥çœ‹åˆ°æ›´æ–°æç¤ºå¯¹è¯æ¡†**
4. **ç‚¹å‡»"ç«‹å³ä¸‹è½½"æµ‹è¯•ä¸‹è½½åŠŸèƒ½**

---

## ğŸ“ æ—¥å¸¸ä½¿ç”¨

### å‘å¸ƒæ–°ç‰ˆæœ¬

```bash
# 1. ä¿®æ”¹ version.py ä¸­çš„ç‰ˆæœ¬å·
__version__ = "1.1.0"

# 2. æ›´æ–° CHANGELOG.md
## [1.1.0] - 2025-12-13
### æ–°å¢
- æ–°åŠŸèƒ½æè¿°

# 3. è¿è¡Œå‘å¸ƒè„šæœ¬
./release.sh 1.1.0
```

### æœ¬åœ°æµ‹è¯•æ‰“åŒ…

```bash
# å¿«é€Ÿæœ¬åœ°æ‰“åŒ…æµ‹è¯•
pyinstaller build.spec

# è¿è¡Œæµ‹è¯•
cd dist/PythonScriptBatchExecutor
./PythonScriptBatchExecutor  # Linux/macOS
# æˆ–
PythonScriptBatchExecutor.exe  # Windows
```

---

## ğŸ¯ å…³é”®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ç”¨é€” | ä½•æ—¶ä¿®æ”¹ |
|------|------|----------|
| `version.py` | ç‰ˆæœ¬é…ç½® | æ¯æ¬¡å‘å¸ƒå‰ |
| `CHANGELOG.md` | æ›´æ–°æ—¥å¿— | æ¯æ¬¡å‘å¸ƒå‰ |
| `build.spec` | æ‰“åŒ…é…ç½® | æ·»åŠ æ–°æ–‡ä»¶/ä¾èµ–æ—¶ |
| `.github/workflows/release.yml` | è‡ªåŠ¨æ„å»º | ä¿®æ”¹æ„å»ºæµç¨‹æ—¶ |

---

## âœ… å®Œæˆï¼

ç°åœ¨ä½ çš„åº”ç”¨å·²ç»å…·å¤‡ï¼š

- âœ… è‡ªåŠ¨ç‰ˆæœ¬æ£€æŸ¥
- âœ… æ›´æ–°æç¤ºå¯¹è¯æ¡†
- âœ… ä¸€é”®å‘å¸ƒè„šæœ¬
- âœ… GitHub Actionsè‡ªåŠ¨æ„å»º
- âœ… å¤šå¹³å°æ”¯æŒ

---

## ğŸ“š æ›´å¤šä¿¡æ¯

- ğŸ“– [å®Œæ•´å‘å¸ƒæŒ‡å—](./å‘å¸ƒéƒ¨ç½²æŒ‡å—.md)
- ğŸ“– [ç³»ç»Ÿè¯¦ç»†è¯´æ˜](./ç‰ˆæœ¬å‘å¸ƒç³»ç»Ÿè¯´æ˜.md)
- ğŸ“– [éƒ¨ç½²è„šæœ¬è¯´æ˜](../deploy/README.md)

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

é‡åˆ°é—®é¢˜ï¼ŸæŸ¥çœ‹ï¼š
1. [å¸¸è§é—®é¢˜](./å‘å¸ƒéƒ¨ç½²æŒ‡å—.md#å¸¸è§é—®é¢˜)
2. [æ•…éšœæ’æŸ¥](./ç‰ˆæœ¬å‘å¸ƒç³»ç»Ÿè¯´æ˜.md#æ•…éšœæ’æŸ¥)
3. [æäº¤Issue](https://github.com/YWB9806/OBC-DCDC-AutoTest/issues)

---

**ç¥ä½ å‘å¸ƒé¡ºåˆ©ï¼** ğŸ‰